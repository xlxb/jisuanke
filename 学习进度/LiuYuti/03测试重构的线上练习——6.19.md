# 测试/重构的线上练习——6.19

#### 1.避免过长的子程序/合并重复代码

即封装方法使程序简洁，减少冗余代码

#### 2.合并两个类

当一个承担过少职责的类可以是另一个类的属性，应该将它们俩合并

#### 3.让if语句更短

讲过长的if判断分装到一个返回值为Boolean的方法里

#### 4.不要使用全局变量

###### 原因：

·破坏局域性，可能导致隐式耦合

·命名空间污染

·测试不便，难于集成，容易导致并发问题

###### 解决方案：

改成单例类

#### 5.让类的关系更合理

###### 避免同时修改多个类：

重复出现的方法移到父类

###### 降低类之间的耦合度

###### 善用继承

#### 6.结构体保存数据

#### 7.软件测试

软件测试是一种用来促进鉴定软件的正确性、完整性、安全性和质量的过程。

**单元测试（unit test）** 是针对程序模块（软件设计的最小单位）来进行正确性检验的测试工作。单元测试往往由开发人员自己编写，软件开发人员修改一次代码通常就要进行至少一次单元测试，并且往往使用的开发语言或框架会提供现成的单元测试工具。

#### 8.白盒测试

白盒测试（white-box testing）是一种考虑系统或组件内部机制的测试方法，常被程序开发者用于对代码进行自测。

集成测试（integration testing）是一种将若干独立的软件模块组装起来进行测试的方法。

代码覆盖![img](https://res.jisuanke.com/img/upload/20161019/cfa9714ff3f047fdb55dae47935330893d8d6968.png)

当我们在利用代码覆盖准则进行单元测试时，往往按如下流程进行：

  选择预期覆盖程度对应的覆盖准则；

 选择测试路径以满足选定的测试准则；

 根据测试路径设计测试用例的输入数据；

 根据输入数据确定预期输出数据，完成单元测试的开发。

#### 黑盒测试

![img](https://res.jisuanke.com/img/upload/20161019/c6b4ba73b610d2e57216dcc5e9360b0bfa27550a.png)

·测试人员无需了解程序内部代码实现

·测试用例不依赖程序内部的设计

·可以从用户的角度出发进行测试